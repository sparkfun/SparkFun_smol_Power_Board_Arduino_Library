<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SparkFun_smol_Power_Board_AAA_Arduino_Library: smolPowerAAA Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SparkFun_smol_Power_Board_AAA_Arduino_Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classsmol_power_a_a_a-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">smolPowerAAA Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_spark_fun__smol___power___board___a_a_a_8h_source.html">SparkFun_smol_Power_Board_AAA.h</a>&gt;</code></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:aaf7afc4f3bbce2e1bb10da99eef0b566"><td class="memItemLeft" align="right" valign="top"><a id="aaf7afc4f3bbce2e1bb10da99eef0b566"></a>
&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#aaf7afc4f3bbce2e1bb10da99eef0b566">smolPowerAAA</a> ()</td></tr>
<tr class="memdesc:aaf7afc4f3bbce2e1bb10da99eef0b566"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create an object to communicate with the SparkFun smôl Power Board AAA. <br /></td></tr>
<tr class="separator:aaf7afc4f3bbce2e1bb10da99eef0b566"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0048d05ef7082eb143b9984197c94161"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a0048d05ef7082eb143b9984197c94161">begin</a> (byte deviceAddress=SFE_AAA_DEFAULT_I2C_ADDRESS, TwoWire &amp;wirePort=Wire)</td></tr>
<tr class="memdesc:a0048d05ef7082eb143b9984197c94161"><td class="mdescLeft">&#160;</td><td class="mdescRight">Begin communication with the SparkFun smôl Power Board AAA.  <a href="classsmol_power_a_a_a.html#a0048d05ef7082eb143b9984197c94161">More...</a><br /></td></tr>
<tr class="separator:a0048d05ef7082eb143b9984197c94161"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a005fae306a6a3022e230d66d96d8a69d"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a005fae306a6a3022e230d66d96d8a69d">isConnected</a> ()</td></tr>
<tr class="memdesc:a005fae306a6a3022e230d66d96d8a69d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check that the SparkFun smôl Power Board AAA is awake and communicating. This function is called by <a class="el" href="classsmol_power_a_a_a.html#a0048d05ef7082eb143b9984197c94161" title="Begin communication with the SparkFun smôl Power Board AAA.">smolPowerAAA::begin</a>.  <a href="classsmol_power_a_a_a.html#a005fae306a6a3022e230d66d96d8a69d">More...</a><br /></td></tr>
<tr class="separator:a005fae306a6a3022e230d66d96d8a69d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae49fae337fdcd741c03ea7d3a8a2f6cd"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#ae49fae337fdcd741c03ea7d3a8a2f6cd">setI2CAddress</a> (byte address)</td></tr>
<tr class="memdesc:ae49fae337fdcd741c03ea7d3a8a2f6cd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the smôl Power Board AAA's I2C address. You will need to call .begin again using the new address to re-establish communication with the Power Board.  <a href="classsmol_power_a_a_a.html#ae49fae337fdcd741c03ea7d3a8a2f6cd">More...</a><br /></td></tr>
<tr class="separator:ae49fae337fdcd741c03ea7d3a8a2f6cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a93c5f7095b4452b5883b6a9cca1eaf57"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a93c5f7095b4452b5883b6a9cca1eaf57">getI2CAddress</a> ()</td></tr>
<tr class="memdesc:a93c5f7095b4452b5883b6a9cca1eaf57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just for fun, read back the Power Board's I2C address. This proves that I2C communication is possible and that the Power Board has the correct address stored in eeprom.  <a href="classsmol_power_a_a_a.html#a93c5f7095b4452b5883b6a9cca1eaf57">More...</a><br /></td></tr>
<tr class="separator:a93c5f7095b4452b5883b6a9cca1eaf57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7585e29e2ad25b713a1b4758e99dfda7"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a7585e29e2ad25b713a1b4758e99dfda7">getResetReason</a> ()</td></tr>
<tr class="memdesc:a7585e29e2ad25b713a1b4758e99dfda7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the reason for the ATtiny43U's most recent reset.  <a href="classsmol_power_a_a_a.html#a7585e29e2ad25b713a1b4758e99dfda7">More...</a><br /></td></tr>
<tr class="separator:a7585e29e2ad25b713a1b4758e99dfda7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a15e19daf22b505397422a2f5b5f267fe"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a15e19daf22b505397422a2f5b5f267fe">getTemperature</a> ()</td></tr>
<tr class="memdesc:a15e19daf22b505397422a2f5b5f267fe"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the ATtiny43U's internal temperature. <br  />
TO DO: Add temperature calibration / correction functionality.  <a href="classsmol_power_a_a_a.html#a15e19daf22b505397422a2f5b5f267fe">More...</a><br /></td></tr>
<tr class="separator:a15e19daf22b505397422a2f5b5f267fe"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acb123b6b74c3a4100affae3d86dac39f"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#acb123b6b74c3a4100affae3d86dac39f">getBatteryVoltage</a> ()</td></tr>
<tr class="memdesc:acb123b6b74c3a4100affae3d86dac39f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the ATtiny43U's battery voltage (VBAT).  <a href="classsmol_power_a_a_a.html#acb123b6b74c3a4100affae3d86dac39f">More...</a><br /></td></tr>
<tr class="separator:acb123b6b74c3a4100affae3d86dac39f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac143baf5fa89b698bf65dd2f3b497882"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#ac143baf5fa89b698bf65dd2f3b497882">measureVCC</a> ()</td></tr>
<tr class="memdesc:ac143baf5fa89b698bf65dd2f3b497882"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure the ATtiny43U's VCC by reading the 1.1V internal reference via the ADC.  <a href="classsmol_power_a_a_a.html#ac143baf5fa89b698bf65dd2f3b497882">More...</a><br /></td></tr>
<tr class="separator:ac143baf5fa89b698bf65dd2f3b497882"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8627bdf60df4b5441fecd6930594020b"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a8627bdf60df4b5441fecd6930594020b">setADCVoltageReference</a> (<a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a897ee17e24594f8ef65f904e2a254b1a">sfe_power_board_aaa_ADC_ref_e</a> ref)</td></tr>
<tr class="memdesc:a8627bdf60df4b5441fecd6930594020b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ATtiny43U's ADC voltage reference to VCC or the internal 1.1V reference.  <a href="classsmol_power_a_a_a.html#a8627bdf60df4b5441fecd6930594020b">More...</a><br /></td></tr>
<tr class="separator:a8627bdf60df4b5441fecd6930594020b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c8858440f23787cc1d55bd166b0a43e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a897ee17e24594f8ef65f904e2a254b1a">sfe_power_board_aaa_ADC_ref_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a5c8858440f23787cc1d55bd166b0a43e">getADCVoltageReference</a> ()</td></tr>
<tr class="memdesc:a5c8858440f23787cc1d55bd166b0a43e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ATtiny43U's ADC voltage reference: VCC or the internal 1.1V reference.  <a href="classsmol_power_a_a_a.html#a5c8858440f23787cc1d55bd166b0a43e">More...</a><br /></td></tr>
<tr class="separator:a5c8858440f23787cc1d55bd166b0a43e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7b4b639fa6f2b60d1afa00f891fcd164"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a7b4b639fa6f2b60d1afa00f891fcd164">setWatchdogTimerPrescaler</a> (<a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a3cb45f7f7c5901028ee402f0263f6ee6">sfe_power_board_aaa_WDT_prescale_e</a> prescaler)</td></tr>
<tr class="memdesc:a7b4b639fa6f2b60d1afa00f891fcd164"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ATtiny43U's Watchdog Timer prescaler to set the WDT interrupt rate.  <a href="classsmol_power_a_a_a.html#a7b4b639fa6f2b60d1afa00f891fcd164">More...</a><br /></td></tr>
<tr class="separator:a7b4b639fa6f2b60d1afa00f891fcd164"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac601b08abf10d367559b39c1237cf356"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a3cb45f7f7c5901028ee402f0263f6ee6">sfe_power_board_aaa_WDT_prescale_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#ac601b08abf10d367559b39c1237cf356">getWatchdogTimerPrescaler</a> ()</td></tr>
<tr class="memdesc:ac601b08abf10d367559b39c1237cf356"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ATtiny43U's Watchdog Timer prescaler setting.  <a href="classsmol_power_a_a_a.html#ac601b08abf10d367559b39c1237cf356">More...</a><br /></td></tr>
<tr class="separator:ac601b08abf10d367559b39c1237cf356"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6f24b729b18645cd8c86cb3b58cadddc"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a6f24b729b18645cd8c86cb3b58cadddc">setPowerdownDurationWDTInts</a> (uint16_t duration)</td></tr>
<tr class="memdesc:a6f24b729b18645cd8c86cb3b58cadddc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Power Board Power-down duration in Watchdog Timer interrupts.  <a href="classsmol_power_a_a_a.html#a6f24b729b18645cd8c86cb3b58cadddc">More...</a><br /></td></tr>
<tr class="separator:a6f24b729b18645cd8c86cb3b58cadddc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2f500470b550ec6092f38338508ecfe4"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a2f500470b550ec6092f38338508ecfe4">getPowerDownDurationWDTInts</a> (uint16_t *duration)</td></tr>
<tr class="memdesc:a2f500470b550ec6092f38338508ecfe4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Power Board Power-down duration in Watchdog Timer interrupts.  <a href="classsmol_power_a_a_a.html#a2f500470b550ec6092f38338508ecfe4">More...</a><br /></td></tr>
<tr class="separator:a2f500470b550ec6092f38338508ecfe4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a37f460f76a97cf8452bd7db793598464"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsmol_power_a_a_a.html#a37f460f76a97cf8452bd7db793598464">powerDownNow</a> ()</td></tr>
<tr class="memdesc:a37f460f76a97cf8452bd7db793598464"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down the system now. The smôl bus power will be disabled. The ATtiny43U will wake up and turn the power back on after SFE_AAA_REGISTER_POWERDOWN_DURATION WDT interrupts.  <a href="classsmol_power_a_a_a.html#a37f460f76a97cf8452bd7db793598464">More...</a><br /></td></tr>
<tr class="separator:a37f460f76a97cf8452bd7db793598464"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Communication interface for the SparkFun smôl Power Board AAA </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="a0048d05ef7082eb143b9984197c94161"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0048d05ef7082eb143b9984197c94161">&#9670;&nbsp;</a></span>begin()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::begin </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>deviceAddress</em> = <code>SFE_AAA_DEFAULT_I2C_ADDRESS</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">TwoWire &amp;&#160;</td>
          <td class="paramname"><em>wirePort</em> = <code>Wire</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Begin communication with the SparkFun smôl Power Board AAA. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">deviceAddress</td><td>The I2C address of the Power Board. Default is SFE_AAA_DEFAULT_I2C_ADDRESS 0x50. Can be changed with setI2CAddress. </td></tr>
    <tr><td class="paramname">wirePort</td><td>The TwoWire (I2C) port used to communicate with the Power Board. Default is Wire. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the Power Board was successful, otherwise false. </dd></dl>

</div>
</div>
<a id="a5c8858440f23787cc1d55bd166b0a43e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c8858440f23787cc1d55bd166b0a43e">&#9670;&nbsp;</a></span>getADCVoltageReference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a897ee17e24594f8ef65f904e2a254b1a">sfe_power_board_aaa_ADC_ref_e</a> smolPowerAAA::getADCVoltageReference </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ATtiny43U's ADC voltage reference: VCC or the internal 1.1V reference. </p>
<dl class="section return"><dt>Returns</dt><dd>SFE_AAA_USE_ADC_REF_VCC or SFE_AAA_USE_ADC_REF_1V1 if the reference was read successfuly, SFE_AAA_USE_ADC_REF_UNDEFINED if not. </dd></dl>

</div>
</div>
<a id="acb123b6b74c3a4100affae3d86dac39f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acb123b6b74c3a4100affae3d86dac39f">&#9670;&nbsp;</a></span>getBatteryVoltage()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float smolPowerAAA::getBatteryVoltage </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the ATtiny43U's battery voltage (VBAT). </p>
<dl class="section return"><dt>Returns</dt><dd>The battery voltage in Volts or -99.0 if an error occurred. </dd></dl>
<p>This function reads two bytes (uint16_t, little endian) from SFE_AAA_REGISTER_VBAT. This will be the raw 10-bit ADC reading. We need to manually convert this to voltage using the selected voltage reference. The ADC has a built-in divide-by-2 circuit, so we can measure up to 2*VCC or 2.2V depending on the reference.</p>

</div>
</div>
<a id="a93c5f7095b4452b5883b6a9cca1eaf57"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a93c5f7095b4452b5883b6a9cca1eaf57">&#9670;&nbsp;</a></span>getI2CAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte smolPowerAAA::getI2CAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Just for fun, read back the Power Board's I2C address. This proves that I2C communication is possible and that the Power Board has the correct address stored in eeprom. </p>
<dl class="section return"><dt>Returns</dt><dd>The Power Board's I2C address. Returns zero if an error occurred. </dd></dl>

</div>
</div>
<a id="a2f500470b550ec6092f38338508ecfe4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2f500470b550ec6092f38338508ecfe4">&#9670;&nbsp;</a></span>getPowerDownDurationWDTInts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::getPowerDownDurationWDTInts </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Power Board Power-down duration in Watchdog Timer interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>Pointer for the power-down duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the duration was read successfully, false if not. </dd></dl>

</div>
</div>
<a id="a7585e29e2ad25b713a1b4758e99dfda7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7585e29e2ad25b713a1b4758e99dfda7">&#9670;&nbsp;</a></span>getResetReason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte smolPowerAAA::getResetReason </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the reason for the ATtiny43U's most recent reset. </p>
<dl class="section return"><dt>Returns</dt><dd>The reset reason: the logical OR of: <br  />
SFE_AAA_RESET_REASON_PORF <br  />
SFE_AAA_RESET_REASON_EXTRF <br  />
SFE_AAA_RESET_REASON_BORF <br  />
SFE_AAA_RESET_REASON_WDRF <br  />
SFE_AAA_EEPROM_CORRUPT_ON_RESET <br  />
SFE_AAA_COMM_ERROR </dd></dl>
<p>The reset reason is updated as soon as the ATtiny43U starts. The four MCU STatus Register Flags are read. If the ATtiny43U found that its eeprom was corrupt when the code started, SFE_AAA_EEPROM_CORRUPT_ON_RESET will be set indicating that the eeprom settings have been reset to the default values.</p>

</div>
</div>
<a id="a15e19daf22b505397422a2f5b5f267fe"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a15e19daf22b505397422a2f5b5f267fe">&#9670;&nbsp;</a></span>getTemperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float smolPowerAAA::getTemperature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the ATtiny43U's internal temperature. <br  />
TO DO: Add temperature calibration / correction functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>The temperature in Degrees Centigrade / Celcius or -273.15 if an error occured. </dd></dl>
<p>To read the approximate temperature, we need to read two bytes (uint16_t, little endian) from SFE_AAA_REGISTER_TEMPERATURE. These will be the raw ADC reading which we need to convert to Degrees C. The ATtiny43U will automatically use the 1.1V internal reference for the conversion. There is no need to select it here. The sensitivity is approximately 1 LSB/°C with 25°C reading as 300 ADU.</p>

</div>
</div>
<a id="ac601b08abf10d367559b39c1237cf356"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac601b08abf10d367559b39c1237cf356">&#9670;&nbsp;</a></span>getWatchdogTimerPrescaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a3cb45f7f7c5901028ee402f0263f6ee6">sfe_power_board_aaa_WDT_prescale_e</a> smolPowerAAA::getWatchdogTimerPrescaler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ATtiny43U's Watchdog Timer prescaler setting. </p>
<dl class="section return"><dt>Returns</dt><dd>The appropriate SFE_AAA_WDT_PRESCALE_ or SFE_AAA_WDT_PRESCALE_UNDEFINED if communication failed. </dd></dl>

</div>
</div>
<a id="a005fae306a6a3022e230d66d96d8a69d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a005fae306a6a3022e230d66d96d8a69d">&#9670;&nbsp;</a></span>isConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::isConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check that the SparkFun smôl Power Board AAA is awake and communicating. This function is called by <a class="el" href="classsmol_power_a_a_a.html#a0048d05ef7082eb143b9984197c94161" title="Begin communication with the SparkFun smôl Power Board AAA.">smolPowerAAA::begin</a>. </p>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the Power Board was successful, otherwise false. </dd></dl>

</div>
</div>
<a id="ac143baf5fa89b698bf65dd2f3b497882"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac143baf5fa89b698bf65dd2f3b497882">&#9670;&nbsp;</a></span>measureVCC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float smolPowerAAA::measureVCC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measure the ATtiny43U's VCC by reading the 1.1V internal reference via the ADC. </p>
<dl class="section return"><dt>Returns</dt><dd>The battery voltage in Volts or -99.0 if an error occurred. </dd></dl>
<p>By reading the 1.1V internal reference we can work out what VCC is. We need to read two bytes (uint16_t, little endian) from SFE_AAA_REGISTER_VBAT. This will be the raw 10-bit ADC reading. We need to manually convert this to voltage. The ATtiny43U will automatically select VCC as the reference. There is no need to do it here.</p>

</div>
</div>
<a id="a37f460f76a97cf8452bd7db793598464"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a37f460f76a97cf8452bd7db793598464">&#9670;&nbsp;</a></span>powerDownNow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::powerDownNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power down the system now. The smôl bus power will be disabled. The ATtiny43U will wake up and turn the power back on after SFE_AAA_REGISTER_POWERDOWN_DURATION WDT interrupts. </p>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the ATtiny43U was successful, false if not. </dd></dl>
<p>To power-down, we need to write six bytes to the SFE_AAA_REGISTER_POWERDOWN_NOW register. The first five are the ASCII characters SLEEP. The sixth is a one byte CRC of the characters.</p>

</div>
</div>
<a id="a8627bdf60df4b5441fecd6930594020b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8627bdf60df4b5441fecd6930594020b">&#9670;&nbsp;</a></span>setADCVoltageReference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::setADCVoltageReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a897ee17e24594f8ef65f904e2a254b1a">sfe_power_board_aaa_ADC_ref_e</a>&#160;</td>
          <td class="paramname"><em>ref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ATtiny43U's ADC voltage reference to VCC or the internal 1.1V reference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref</td><td>The reference: SFE_AAA_USE_ADC_REF_VCC or SFE_AAA_USE_ADC_REF_1V1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the reference is set successfuly, false if not. </dd></dl>
<p>To change the voltage reference, we need to write two bytes to SFE_AAA_REGISTER_ADC_REFERENCE The first is the new address. The second is a one byte CRC of the address.</p>

</div>
</div>
<a id="ae49fae337fdcd741c03ea7d3a8a2f6cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae49fae337fdcd741c03ea7d3a8a2f6cd">&#9670;&nbsp;</a></span>setI2CAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::setI2CAddress </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the smôl Power Board AAA's I2C address. You will need to call .begin again using the new address to re-establish communication with the Power Board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The new I2C address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the Power Board was successful, otherwise false. </dd></dl>
<p>To change the address, we need to write two bytes to SFE_AAA_REGISTER_I2C_ADDRESS. The first is the new address. The second is a one byte CRC of the address.</p>

</div>
</div>
<a id="a6f24b729b18645cd8c86cb3b58cadddc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6f24b729b18645cd8c86cb3b58cadddc">&#9670;&nbsp;</a></span>setPowerdownDurationWDTInts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::setPowerdownDurationWDTInts </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Power Board Power-down duration in Watchdog Timer interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The power-down duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the duration is set successfuly, false if not. </dd></dl>
<p>To change the power-down duration, we need to write three bytes to the SFE_AAA_REGISTER_POWERDOWN_DURATION register. The first two are the duration in uint16_t little endian format. The third is a one byte CRC of the duration.</p>

</div>
</div>
<a id="a7b4b639fa6f2b60d1afa00f891fcd164"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7b4b639fa6f2b60d1afa00f891fcd164">&#9670;&nbsp;</a></span>setWatchdogTimerPrescaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool smolPowerAAA::setWatchdogTimerPrescaler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_spark_fun__smol___power___board___a_a_a___constants_8h.html#a3cb45f7f7c5901028ee402f0263f6ee6">sfe_power_board_aaa_WDT_prescale_e</a>&#160;</td>
          <td class="paramname"><em>prescaler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ATtiny43U's Watchdog Timer prescaler to set the WDT interrupt rate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prescaler</td><td>The prescaler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the prescaler is set successfuly, false if not. </dd></dl>
<p>To change the prescaler, we need to write two bytes to SFE_AAA_REGISTER_WDT_PRESCALER The first is the new prescaler. The second is a one byte CRC of the address.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_spark_fun__smol___power___board___a_a_a_8h_source.html">SparkFun_smol_Power_Board_AAA.h</a></li>
<li>src/SparkFun_smol_Power_Board_AAA.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
