<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>SparkFun_smol_Power_Board_Arduino_Library: sfeSmolPowerBoard Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SparkFun_smol_Power_Board_Arduino_Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="classsfe_smol_power_board-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">sfeSmolPowerBoard Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;<a class="el" href="_spark_fun__smol___power___board_8h_source.html">SparkFun_smol_Power_Board.h</a>&gt;</code></p>
<div class="dynheader">
Inheritance diagram for sfeSmolPowerBoard:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classsfe_smol_power_board.png" usemap="#sfeSmolPowerBoard_map" alt=""/>
  <map id="sfeSmolPowerBoard_map" name="sfeSmolPowerBoard_map">
<area href="classsmol_power_a_a_a.html" alt="smolPowerAAA" shape="rect" coords="0,56,126,80"/>
<area href="classsmol_power_li_po.html" alt="smolPowerLiPo" shape="rect" coords="136,56,262,80"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a287943e5e4c1015654609a7de25a72f3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a287943e5e4c1015654609a7de25a72f3">isConnected</a> ()</td></tr>
<tr class="memdesc:a287943e5e4c1015654609a7de25a72f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Class to communicate with the SparkFun smôl Power Boards.  <a href="classsfe_smol_power_board.html#a287943e5e4c1015654609a7de25a72f3">More...</a><br /></td></tr>
<tr class="separator:a287943e5e4c1015654609a7de25a72f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a96b15421808da5bad37b7167d7766d6e"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a96b15421808da5bad37b7167d7766d6e">setI2CAddress</a> (byte address)</td></tr>
<tr class="memdesc:a96b15421808da5bad37b7167d7766d6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Change the smôl Power Board AAA's I2C address. You will need to call .begin again using the new address to re-establish communication with the Power Board.  <a href="classsfe_smol_power_board.html#a96b15421808da5bad37b7167d7766d6e">More...</a><br /></td></tr>
<tr class="separator:a96b15421808da5bad37b7167d7766d6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac09ee2fbb0f3eb30cac13bea9e72bc83"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#ac09ee2fbb0f3eb30cac13bea9e72bc83">getI2CAddress</a> ()</td></tr>
<tr class="memdesc:ac09ee2fbb0f3eb30cac13bea9e72bc83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Just for fun, read back the Power Board's I2C address. This proves that I2C communication is possible and that the Power Board has the correct address stored in eeprom.  <a href="classsfe_smol_power_board.html#ac09ee2fbb0f3eb30cac13bea9e72bc83">More...</a><br /></td></tr>
<tr class="separator:ac09ee2fbb0f3eb30cac13bea9e72bc83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0cd18f61a9ef695cf2a26b78ec569216"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a0cd18f61a9ef695cf2a26b78ec569216">getResetReason</a> ()</td></tr>
<tr class="memdesc:a0cd18f61a9ef695cf2a26b78ec569216"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the reason for the ATtiny's most recent reset.  <a href="classsfe_smol_power_board.html#a0cd18f61a9ef695cf2a26b78ec569216">More...</a><br /></td></tr>
<tr class="separator:a0cd18f61a9ef695cf2a26b78ec569216"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad32b01063e099f96838591a5bdc33cb6"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#ad32b01063e099f96838591a5bdc33cb6">getTemperature</a> ()</td></tr>
<tr class="memdesc:ad32b01063e099f96838591a5bdc33cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Read the ATtiny's internal temperature. <br  />
TO DO: Add temperature calibration / correction functionality.  <a href="classsfe_smol_power_board.html#ad32b01063e099f96838591a5bdc33cb6">More...</a><br /></td></tr>
<tr class="separator:ad32b01063e099f96838591a5bdc33cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53f944185c6a73dd98cbfa8003434d60"><td class="memItemLeft" align="right" valign="top">float&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a53f944185c6a73dd98cbfa8003434d60">measureVCC</a> ()</td></tr>
<tr class="memdesc:a53f944185c6a73dd98cbfa8003434d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Measure the ATtiny43U's VCC by reading the 1.1V internal reference via the ADC.  <a href="classsfe_smol_power_board.html#a53f944185c6a73dd98cbfa8003434d60">More...</a><br /></td></tr>
<tr class="separator:a53f944185c6a73dd98cbfa8003434d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abaa6a785379d212b2888651da3a4938c"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#abaa6a785379d212b2888651da3a4938c">setADCVoltageReference</a> (<a class="el" href="_spark_fun__smol___power___board___constants_8h.html#aca168e79eac2e73ba1e7dff35fd006a1">sfe_power_board_ADC_ref_e</a> ref)</td></tr>
<tr class="memdesc:abaa6a785379d212b2888651da3a4938c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ATtiny43U's ADC voltage reference to VCC or the internal 1.1V reference.  <a href="classsfe_smol_power_board.html#abaa6a785379d212b2888651da3a4938c">More...</a><br /></td></tr>
<tr class="separator:abaa6a785379d212b2888651da3a4938c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c1f4a144dcac31d2c614153f59205a0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_spark_fun__smol___power___board___constants_8h.html#aca168e79eac2e73ba1e7dff35fd006a1">sfe_power_board_ADC_ref_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a2c1f4a144dcac31d2c614153f59205a0">getADCVoltageReference</a> ()</td></tr>
<tr class="memdesc:a2c1f4a144dcac31d2c614153f59205a0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ATtiny43U's ADC voltage reference: VCC or the internal 1.1V reference.  <a href="classsfe_smol_power_board.html#a2c1f4a144dcac31d2c614153f59205a0">More...</a><br /></td></tr>
<tr class="separator:a2c1f4a144dcac31d2c614153f59205a0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7b83a38a3bbab1b658152f75bac68b3"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#af7b83a38a3bbab1b658152f75bac68b3">setWatchdogTimerPrescaler</a> (<a class="el" href="_spark_fun__smol___power___board___constants_8h.html#a38024563cdc5ed0b2cf6b49b0d4b5bc5">sfe_power_board_WDT_prescale_e</a> prescaler)</td></tr>
<tr class="memdesc:af7b83a38a3bbab1b658152f75bac68b3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the ATtiny43U's Watchdog Timer prescaler to set the WDT interrupt rate.  <a href="classsfe_smol_power_board.html#af7b83a38a3bbab1b658152f75bac68b3">More...</a><br /></td></tr>
<tr class="separator:af7b83a38a3bbab1b658152f75bac68b3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3642e0682e3ebf3659cd33a33a7ee6bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="_spark_fun__smol___power___board___constants_8h.html#a38024563cdc5ed0b2cf6b49b0d4b5bc5">sfe_power_board_WDT_prescale_e</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a3642e0682e3ebf3659cd33a33a7ee6bb">getWatchdogTimerPrescaler</a> ()</td></tr>
<tr class="memdesc:a3642e0682e3ebf3659cd33a33a7ee6bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the ATtiny43U's Watchdog Timer prescaler setting.  <a href="classsfe_smol_power_board.html#a3642e0682e3ebf3659cd33a33a7ee6bb">More...</a><br /></td></tr>
<tr class="separator:a3642e0682e3ebf3659cd33a33a7ee6bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a80d62d4b7c371f8ca2db558711fe3d60"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a80d62d4b7c371f8ca2db558711fe3d60">setPowerdownDurationWDTInts</a> (uint16_t duration)</td></tr>
<tr class="memdesc:a80d62d4b7c371f8ca2db558711fe3d60"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the Power Board Power-down duration in Watchdog Timer interrupts.  <a href="classsfe_smol_power_board.html#a80d62d4b7c371f8ca2db558711fe3d60">More...</a><br /></td></tr>
<tr class="separator:a80d62d4b7c371f8ca2db558711fe3d60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ee16930a244a685b26559576f7c3f83"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a4ee16930a244a685b26559576f7c3f83">getPowerDownDurationWDTInts</a> (uint16_t *duration)</td></tr>
<tr class="memdesc:a4ee16930a244a685b26559576f7c3f83"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Power Board Power-down duration in Watchdog Timer interrupts.  <a href="classsfe_smol_power_board.html#a4ee16930a244a685b26559576f7c3f83">More...</a><br /></td></tr>
<tr class="separator:a4ee16930a244a685b26559576f7c3f83"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aab8a0e10ac086218ed525ed20897a0ec"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#aab8a0e10ac086218ed525ed20897a0ec">powerDownNow</a> ()</td></tr>
<tr class="memdesc:aab8a0e10ac086218ed525ed20897a0ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Power down the system now. The smôl bus power will be disabled. The ATtiny43U will wake up and turn the power back on after SFE_SMOL_POWER_REGISTER_POWERDOWN_DURATION WDT interrupts.  <a href="classsfe_smol_power_board.html#aab8a0e10ac086218ed525ed20897a0ec">More...</a><br /></td></tr>
<tr class="separator:aab8a0e10ac086218ed525ed20897a0ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a88271e3ec7cdd3a02a84980b11b0e6f1"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#a88271e3ec7cdd3a02a84980b11b0e6f1">getFirmwareVersion</a> ()</td></tr>
<tr class="memdesc:a88271e3ec7cdd3a02a84980b11b0e6f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the Power Board firmware version.  <a href="classsfe_smol_power_board.html#a88271e3ec7cdd3a02a84980b11b0e6f1">More...</a><br /></td></tr>
<tr class="separator:a88271e3ec7cdd3a02a84980b11b0e6f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af21b7560b2cc0dbe72a612493820dd67"><td class="memItemLeft" align="right" valign="top">byte&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classsfe_smol_power_board.html#af21b7560b2cc0dbe72a612493820dd67">computeCRC8</a> (byte data[], byte len)</td></tr>
<tr class="memdesc:af21b7560b2cc0dbe72a612493820dd67"><td class="mdescLeft">&#160;</td><td class="mdescRight">Given an array of bytes, this calculates the CRC8 for those bytes. From: <a href="http://www.sunshine2k.de/articles/coding/crc/understanding_crc.html">http://www.sunshine2k.de/articles/coding/crc/understanding_crc.html</a> Tested with: <a href="http://www.sunshine2k.de/coding/javascript/crc/crc_js.html">http://www.sunshine2k.de/coding/javascript/crc/crc_js.html</a> x^8+x^5+x^4+1 = 0x31.  <a href="classsfe_smol_power_board.html#af21b7560b2cc0dbe72a612493820dd67">More...</a><br /></td></tr>
<tr class="separator:af21b7560b2cc0dbe72a612493820dd67"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a4653017f7616b32555051d645ec6b72a"><td class="memItemLeft" align="right" valign="top"><a id="a4653017f7616b32555051d645ec6b72a"></a>
<a class="el" href="class_s_m_o_l___p_o_w_e_r___b_o_a_r_d___i_o.html">SMOL_POWER_BOARD_IO</a>&#160;</td><td class="memItemRight" valign="bottom"><b>smolPowerBoard_io</b></td></tr>
<tr class="separator:a4653017f7616b32555051d645ec6b72a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Communication interface for the SparkFun smôl Power Boards </p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a id="af21b7560b2cc0dbe72a612493820dd67"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af21b7560b2cc0dbe72a612493820dd67">&#9670;&nbsp;</a></span>computeCRC8()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte sfeSmolPowerBoard::computeCRC8 </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>data</em>[], </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>len</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Given an array of bytes, this calculates the CRC8 for those bytes. From: <a href="http://www.sunshine2k.de/articles/coding/crc/understanding_crc.html">http://www.sunshine2k.de/articles/coding/crc/understanding_crc.html</a> Tested with: <a href="http://www.sunshine2k.de/coding/javascript/crc/crc_js.html">http://www.sunshine2k.de/coding/javascript/crc/crc_js.html</a> x^8+x^5+x^4+1 = 0x31. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">data</td><td>The array of bytes </td></tr>
    <tr><td class="paramname">len</td><td>The length of the array of bytes </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The CRC </dd></dl>

</div>
</div>
<a id="a2c1f4a144dcac31d2c614153f59205a0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c1f4a144dcac31d2c614153f59205a0">&#9670;&nbsp;</a></span>getADCVoltageReference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_spark_fun__smol___power___board___constants_8h.html#aca168e79eac2e73ba1e7dff35fd006a1">sfe_power_board_ADC_ref_e</a> sfeSmolPowerBoard::getADCVoltageReference </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ATtiny43U's ADC voltage reference: VCC or the internal 1.1V reference. </p>
<dl class="section return"><dt>Returns</dt><dd>SFE_SMOL_POWER_USE_ADC_REF_VCC or SFE_SMOL_POWER_USE_ADC_REF_1V1 if the reference was read successfuly, SFE_SMOL_POWER_USE_ADC_REF_UNDEFINED if not. </dd></dl>

</div>
</div>
<a id="a88271e3ec7cdd3a02a84980b11b0e6f1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a88271e3ec7cdd3a02a84980b11b0e6f1">&#9670;&nbsp;</a></span>getFirmwareVersion()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte sfeSmolPowerBoard::getFirmwareVersion </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Power Board firmware version. </p>
<dl class="section return"><dt>Returns</dt><dd>The firmware version if read successfully, 0x00 if not. The firmware version is: Major Version (4-bits &lt;&lt; 4) | Minor Version (4-bits). E.g. 0x10 is: v1.0, Major Version 1, Minor Version 0. </dd></dl>

</div>
</div>
<a id="ac09ee2fbb0f3eb30cac13bea9e72bc83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac09ee2fbb0f3eb30cac13bea9e72bc83">&#9670;&nbsp;</a></span>getI2CAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte sfeSmolPowerBoard::getI2CAddress </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Just for fun, read back the Power Board's I2C address. This proves that I2C communication is possible and that the Power Board has the correct address stored in eeprom. </p>
<dl class="section return"><dt>Returns</dt><dd>The Power Board's I2C address. Returns zero if an error occurred. </dd></dl>

</div>
</div>
<a id="a4ee16930a244a685b26559576f7c3f83"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ee16930a244a685b26559576f7c3f83">&#9670;&nbsp;</a></span>getPowerDownDurationWDTInts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::getPowerDownDurationWDTInts </td>
          <td>(</td>
          <td class="paramtype">uint16_t *&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the Power Board Power-down duration in Watchdog Timer interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>Pointer for the power-down duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the duration was read successfully, false if not. </dd></dl>

</div>
</div>
<a id="a0cd18f61a9ef695cf2a26b78ec569216"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0cd18f61a9ef695cf2a26b78ec569216">&#9670;&nbsp;</a></span>getResetReason()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">byte sfeSmolPowerBoard::getResetReason </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the reason for the ATtiny's most recent reset. </p>
<dl class="section return"><dt>Returns</dt><dd>The reset reason: the logical OR of: <br  />
SFE_SMOL_POWER_RESET_REASON_PORF <br  />
SFE_SMOL_POWER_RESET_REASON_EXTRF <br  />
SFE_SMOL_POWER_RESET_REASON_BORF <br  />
SFE_SMOL_POWER_RESET_REASON_WDRF <br  />
SFE_SMOL_POWER_EEPROM_CORRUPT_ON_RESET <br  />
SFE_SMOL_POWER_COMM_ERROR </dd></dl>
<p>The reset reason is updated as soon as the ATtiny43U starts. The four MCU STatus Register Flags are read. If the ATtiny43U found that its eeprom was corrupt when the code started, SFE_SMOL_POWER_EEPROM_CORRUPT_ON_RESET will be set indicating that the eeprom settings have been reset to the default values.</p>

</div>
</div>
<a id="ad32b01063e099f96838591a5bdc33cb6"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad32b01063e099f96838591a5bdc33cb6">&#9670;&nbsp;</a></span>getTemperature()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sfeSmolPowerBoard::getTemperature </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Read the ATtiny's internal temperature. <br  />
TO DO: Add temperature calibration / correction functionality. </p>
<dl class="section return"><dt>Returns</dt><dd>The temperature in Degrees Centigrade / Celcius or -273.15 if an error occured. </dd></dl>
<p>To read the approximate temperature, we need to read two bytes (uint16_t, little endian) from SFE_SMOL_POWER_REGISTER_TEMPERATURE. These will be the raw ADC reading which we need to convert to Degrees C. The ATtiny43U will use the 1.1V internal reference for the conversion. There is no need to select it here. The sensitivity is approximately 1 LSB/°C with 25°C reading as 300 ADU.</p>

</div>
</div>
<a id="a3642e0682e3ebf3659cd33a33a7ee6bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3642e0682e3ebf3659cd33a33a7ee6bb">&#9670;&nbsp;</a></span>getWatchdogTimerPrescaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="_spark_fun__smol___power___board___constants_8h.html#a38024563cdc5ed0b2cf6b49b0d4b5bc5">sfe_power_board_WDT_prescale_e</a> sfeSmolPowerBoard::getWatchdogTimerPrescaler </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the ATtiny43U's Watchdog Timer prescaler setting. </p>
<dl class="section return"><dt>Returns</dt><dd>The appropriate SFE_SMOL_POWER_WDT_PRESCALE_ or SFE_SMOL_POWER_WDT_PRESCALE_UNDEFINED if communication failed. </dd></dl>

</div>
</div>
<a id="a287943e5e4c1015654609a7de25a72f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a287943e5e4c1015654609a7de25a72f3">&#9670;&nbsp;</a></span>isConnected()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::isConnected </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Class to communicate with the SparkFun smôl Power Boards. </p>
<p>Check that the SparkFun smôl Power Board AAA is awake and communicating. This function is called by <a class="el" href="classsmol_power_a_a_a.html#a3c1e496980607fdf2e2db1527918628b" title="Begin communication with the SparkFun smôl Power Board.">smolPowerAAA::begin</a>.</p>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the Power Board was successful, otherwise false. </dd></dl>

</div>
</div>
<a id="a53f944185c6a73dd98cbfa8003434d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a53f944185c6a73dd98cbfa8003434d60">&#9670;&nbsp;</a></span>measureVCC()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">float sfeSmolPowerBoard::measureVCC </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Measure the ATtiny43U's VCC by reading the 1.1V internal reference via the ADC. </p>
<dl class="section return"><dt>Returns</dt><dd>The battery voltage in Volts or -99.0 if an error occurred. </dd></dl>
<p>By reading the 1.1V internal reference we can work out what VCC is. We need to read two bytes (uint16_t, little endian) from SFE_SMOL_POWER_REGISTER_VBAT. This will be the raw 10-bit ADC reading. We need to manually convert this to voltage. The ATtiny43U will automatically select VCC as the reference. There is no need to select it here.</p>

</div>
</div>
<a id="aab8a0e10ac086218ed525ed20897a0ec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab8a0e10ac086218ed525ed20897a0ec">&#9670;&nbsp;</a></span>powerDownNow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::powerDownNow </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Power down the system now. The smôl bus power will be disabled. The ATtiny43U will wake up and turn the power back on after SFE_SMOL_POWER_REGISTER_POWERDOWN_DURATION WDT interrupts. </p>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the ATtiny43U was successful, false if not. </dd></dl>
<p>To power-down, we need to write six bytes to the SFE_SMOL_POWER_REGISTER_POWERDOWN_NOW register. The first five are the ASCII characters SLEEP. The sixth is a one byte CRC of the characters.</p>

</div>
</div>
<a id="abaa6a785379d212b2888651da3a4938c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abaa6a785379d212b2888651da3a4938c">&#9670;&nbsp;</a></span>setADCVoltageReference()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::setADCVoltageReference </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_spark_fun__smol___power___board___constants_8h.html#aca168e79eac2e73ba1e7dff35fd006a1">sfe_power_board_ADC_ref_e</a>&#160;</td>
          <td class="paramname"><em>ref</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ATtiny43U's ADC voltage reference to VCC or the internal 1.1V reference. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">ref</td><td>The reference: SFE_SMOL_POWER_USE_ADC_REF_VCC or SFE_SMOL_POWER_USE_ADC_REF_1V1 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the reference is set successfuly, false if not. </dd></dl>
<p>To change the voltage reference, we need to write two bytes to SFE_SMOL_POWER_REGISTER_ADC_REFERENCE The first is the new address. The second is a one byte CRC of the address.</p>

</div>
</div>
<a id="a96b15421808da5bad37b7167d7766d6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a96b15421808da5bad37b7167d7766d6e">&#9670;&nbsp;</a></span>setI2CAddress()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::setI2CAddress </td>
          <td>(</td>
          <td class="paramtype">byte&#160;</td>
          <td class="paramname"><em>address</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Change the smôl Power Board AAA's I2C address. You will need to call .begin again using the new address to re-establish communication with the Power Board. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">address</td><td>The new I2C address. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if communication with the Power Board was successful, otherwise false. </dd></dl>
<p>To change the address, we need to write two bytes to SFE_POWER_BOARD_REGISTER_I2C_ADDRESS. The first is the new address. The second is a one byte CRC of the address.</p>

</div>
</div>
<a id="a80d62d4b7c371f8ca2db558711fe3d60"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a80d62d4b7c371f8ca2db558711fe3d60">&#9670;&nbsp;</a></span>setPowerdownDurationWDTInts()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::setPowerdownDurationWDTInts </td>
          <td>(</td>
          <td class="paramtype">uint16_t&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the Power Board Power-down duration in Watchdog Timer interrupts. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>The power-down duration. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the duration is set successfuly, false if not. </dd></dl>
<p>To change the power-down duration, we need to write three bytes to the SFE_SMOL_POWER_REGISTER_POWERDOWN_DURATION register. The first two are the duration in uint16_t little endian format. The third is a one byte CRC of the duration.</p>

</div>
</div>
<a id="af7b83a38a3bbab1b658152f75bac68b3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7b83a38a3bbab1b658152f75bac68b3">&#9670;&nbsp;</a></span>setWatchdogTimerPrescaler()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool sfeSmolPowerBoard::setWatchdogTimerPrescaler </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="_spark_fun__smol___power___board___constants_8h.html#a38024563cdc5ed0b2cf6b49b0d4b5bc5">sfe_power_board_WDT_prescale_e</a>&#160;</td>
          <td class="paramname"><em>prescaler</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the ATtiny43U's Watchdog Timer prescaler to set the WDT interrupt rate. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">prescaler</td><td>The prescaler. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>True if the prescaler is set successfuly, false if not. </dd></dl>
<p>To change the prescaler, we need to write two bytes to SFE_SMOL_POWER_REGISTER_WDT_PRESCALER The first is the new prescaler. The second is a one byte CRC of the address.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="_spark_fun__smol___power___board_8h_source.html">SparkFun_smol_Power_Board.h</a></li>
<li>src/SparkFun_smol_Power_Board.cpp</li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
